{% extends "base.html" %}
{% block content %}

<h2>Editar Cronograma de {{ cliente['nombre'] }} {{ cliente['apellidos'] }}</h2>

<form method="POST">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID Cuota</th>
                <th>Fecha Pago</th>
                <th>Monto</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody>
            {% for cuota in cuotas %}
            <tr>
                <td>{{ cuota['id'] }}</td>
                <td>
                    <input type="date" name="fecha_{{ cuota['id'] }}" value="{{ cuota['fecha_pago'] | datetimeformat }}">
                </td>
                <td>
                    <input type="number" step="0.01" name="monto_{{ cuota['id'] }}" value="{{ cuota['cuota'] }}">
                </td>
                <td>
                    <select name="estado_{{ cuota['id'] }}">
                        <option value="Pendiente" {% if cuota['estado']=='Pendiente' %}selected{% endif %}>Pendiente</option>
                        <option value="Pagado" {% if cuota['estado']=='Pagado' %}selected{% endif %}>Pagado</option>
                        <option value="Vencido" {% if cuota['estado']=='Vencido' %}selected{% endif %}>Vencido</option>
                    </select>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    <a href="/cronograma/{{ cliente['id'] }}" class="btn btn-secondary">Cancelar</a>
</form>

{% endblock %}
